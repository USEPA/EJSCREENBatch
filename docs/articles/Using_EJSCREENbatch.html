<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An introduction to the EJSCREENbatch tool • EJSCREENbatch</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="An introduction to the EJSCREENbatch tool">
<meta property="og:description" content="EJSCREENbatch">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EJSCREENbatch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Using_EJSCREENbatch.html">An introduction to the EJSCREENbatch tool</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Using_EJSCREENbatch_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="Using_EJSCREENbatch_files/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="Using_EJSCREENbatch_files/jquery-1.12.4/jquery.min.js"></script><link href="Using_EJSCREENbatch_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="Using_EJSCREENbatch_files/leaflet-1.3.1/leaflet.js"></script><link href="Using_EJSCREENbatch_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="Using_EJSCREENbatch_files/proj4-2.6.2/proj4.min.js"></script><script src="Using_EJSCREENbatch_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="Using_EJSCREENbatch_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="Using_EJSCREENbatch_files/leaflet-binding-2.0.4.1/leaflet.js"></script><link href="Using_EJSCREENbatch_files/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>An introduction to the EJSCREENbatch tool</h1>
                        <h4 class="author">A.R. El-Khattabi, Morgan Teachey &amp; Adam Theising</h4>
            
            <h4 class="date">2021-07-18</h4>
      
      
      <div class="hidden name"><code>Using_EJSCREENbatch.Rmd</code></div>

    </div>

    
    
<p>Environmental justice (EJ) analyses summarize demographics of local populations and environmental burden in order to study the impacts policy decisions may have on different communities. While impacts are often localized, it is helpful for decision makers to be able to assess impacts across many areas at once, allowing for comparison between communities and across regulatory actions. To streamline initial screening-level EJ analysis efforts, this package was developed to leverage national demographic and environmental datasets made available through the U.S. Environmental Protection Agency. Specifically, it allows users to analyze EJ summary statistics for an unlimited number of locations (coordinates or water features) and produces customized figures and maps based on user specifications.</p>
<p>The EJSCREENbatch R package primarily relies on data provided by <a href="https://www.epa.gov/ejscreen">EJSCREEN</a>, a mapping and screening tool maintained by EPA that provides demographic and environmental impact data on the Census Block Group (CBG) level for the United States. For information on how these data were prepared, refer to the <a href="https://www.epa.gov/ejscreen/technical-documentation-ejscreen">EJSCREEN Technical Information Guidance</a></p>
<div id="getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h1>
<p>To access the latest version of the package, simply install from the EPA’s Github Repo:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Import EJSCREENbatch package </span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"USEPA/EJSCREENbatch"</span><span class="op">)</span></code></pre></div>
<p>Then load the package, and set your working directory to that of your input data. (Note: as of V1.0, you must also create an object with the filepath housing the SEDAC raster.)</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">EJSCREENbatch</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">'~/DIRECTORY_NAME_HERE'</span><span class="op">)</span>
<span class="va">raster.path</span> <span class="op">&lt;-</span> <span class="st">'~/DIRECTORY_NAME_HERE/US Census Grid_SF2010_TIFF'</span></code></pre></div>
</div>
<div id="input-data-requirements" class="section level1">
<h1 class="hasAnchor">
<a href="#input-data-requirements" class="anchor"></a>Input data requirements</h1>
<p>First, the user supplies input location data. Since this is a batch tool, the data can (and should!) include several input locations. These locations could be points in space (i.e. lat/long coordinates of an emitting facility), boundary shapes (i.e. a set of polygons representing wetlands or lagoons), or a waterbody identifier from the NHDPlus database (more on this below).</p>
<p>Here, we create a toy data set by drawing 20 random latitude/longitude coordinates from the continental USA. These points will serve as our “locations of interest” for the vignette’s sample EJ analysis.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Draw random points from the lower 48</span>
<span class="co"># Bounding box is: Extent: (-124.848974, 24.396308) * (-66.885444, 49.384358)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">202</span><span class="op">)</span>
<span class="va">rnd.pts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'facility_name_'</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span>,
                 longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">*</span><span class="fl">8.75</span> <span class="op">+</span> <span class="op">-</span><span class="fl">95.15</span>, 
                 latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">*</span><span class="fl">3</span> <span class="op">+</span> <span class="fl">37</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">st_as_sf</span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'longitude'</span>, <span class="st">'latitude'</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></code></pre></div>
<p>One important technical item to note: location inputs must be fed into package functions either (1) as a <em>simple feature</em> (sf) dataframe for point/line/polygon shapes or (2) as a <em>list</em> of catchment common identifiers (COMIDs). See the <a href="https://r-spatial.github.io/sf/index.html">sf package</a> documentation for a primer on using spatial data in R and the <a href="https://usgs-r.github.io/nhdplusTools/">nhdplusTools package</a> for an overview of the catchment ID data structure.</p>
<p>For an illustrative sense of the geographies that will be screened, we map our location inputs below. In the next section, we draw spatial buffers around our locations to extract demographic and environmental data from EJSCREEN’s national database.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># See where these imaginary facilities fall:</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">maps</span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="va">state.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/map_data.html">map_data</a></span><span class="op">(</span><span class="st">'state'</span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">state.data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">long</span>, y<span class="op">=</span><span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span><span class="op">)</span>,
               color<span class="op">=</span><span class="st">"black"</span>, fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">rnd.pts</span>, color <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="Using_EJSCREENbatch_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div id="compiling-data-using-ejfunction" class="section level1">
<h1 class="hasAnchor">
<a href="#compiling-data-using-ejfunction" class="anchor"></a>Compiling data: using EJfunction()</h1>
<p>We now demonstrate the batch tool’s implementation. The foundation of the package is built around EJfunction(), which does the heavy lifting of data compilation, cleaning, and spatial computation. Based on the user-provided input data and options selected, buffers are drawn around locations, and data from EJSCREEN are extracted and compiled for these areas.</p>
<p>The function’s primary role is the return of dataframes containing raw or summarized information, though it can also serve as a “one-stop-shop” and produce data visualizations or maps (see subsection: Calling secondary functions from EJfunction). To provide meaningful and systematic comparisons across locations, the primary data outputs returned by this function are percentile measures. EJfunction() reports both national and state percentiles at the CBG- and location-levels; more on this to follow.</p>
<div id="an-initial-run" class="section level3">
<h3 class="hasAnchor">
<a href="#an-initial-run" class="anchor"></a>An initial run</h3>
<p>We begin by running a simple, land-based EJ screening call on our set of location coordinates.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EJfunction.html">EJfunction</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"landbased"</span>,
           facility_data <span class="op">=</span> <span class="va">rnd.pts</span>, 
           gis_option <span class="op">=</span> <span class="st">"intersection"</span>, 
           buff_dist <span class="op">=</span> <span class="fl">1</span>,
           raster_data <span class="op">=</span> <span class="va">raster.path</span><span class="op">)</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>
<span class="co">#&gt; Joining, by = c("ID", "STATE_NAME", "ST_ABBREV")</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span></code></pre></div>
<p>This land-based run <em>(data_type = ‘landbased’)</em> draws a simple buffer of 1 mile <em>(buff_dist = 1)</em> around each location, and extracts/returns the raw EJSCREEN data for all CBGs that intersect with the buffer area. Under the default (and suggested) GIS method <em>(gis_option = ‘intersection’)</em>, the function also returns a location-level summary dataframe that is essentially equivalent to objects returned from the <a href="https://ejscreen.epa.gov/mapper/">EJSCREEN mapper</a> or API. <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>The object returned as <em>my.EJ.data</em> is a list of data sub-objects.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">my.EJ.data</span><span class="op">)</span>
<span class="co">#&gt; [1] "EJ.corrplots.data"    "EJ.demographics.data" "EJ.facil.data"       </span>
<span class="co">#&gt; [4] "EJ.index.data"        "EJ.list.data"</span></code></pre></div>
<p>As described above, users are likely to be most interested in two of these sub-objects. First, the raw and complete CBG-level data are returned as <em>EJ.list.data</em>. This data may be of interest to users who want a within-location, “neighborhood”-level understanding of populations that may be affected by policy. <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> For a flavor of this data, we return the dataframe’s first several columns (of 158) for the two block groups that fall within the distance buffer of the first location in our input list. Variable names and definitions can be downloaded <a href="https://gaftp.epa.gov/EJSCREEN/2020/2020_EJSCREEEN_columns-explained.xlsx">here</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data</span><span class="op">$</span><span class="va">EJ.list.data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span>
  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">'facility_name_1'</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 158</span>
<span class="co">#&gt;   shape_ID name   ID    STATE_NAME ST_ABBREV REGION ACSTOTPOP D_PM25_2 B_PM25_D2</span>
<span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt;     &lt;int&gt;    &lt;dbl&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1        1 facil~ 0802~ Colorado   CO             8      1173    -999.         6</span>
<span class="co">#&gt; 2        1 facil~ 0810~ Colorado   CO             8      1180   -1824.         4</span>
<span class="co">#&gt; # ... with 149 more variables: P_PM25_D2_state &lt;dbl&gt;, D_OZONE_2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   B_OZONE_D2 &lt;int&gt;, P_OZONE_D2_state &lt;dbl&gt;, D_DSLPM_2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   B_DSLPM_D2 &lt;int&gt;, P_DSLPM_D2_state &lt;dbl&gt;, D_CANCR_2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   B_CANCR_D2 &lt;int&gt;, P_CANCR_D2_state &lt;dbl&gt;, D_RESP_2 &lt;dbl&gt;, B_RESP_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_RESP_D2_state &lt;dbl&gt;, D_PTRAF_2 &lt;dbl&gt;, B_PTRAF_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_PTRAF_D2_state &lt;dbl&gt;, D_LDPNT_2 &lt;dbl&gt;, B_LDPNT_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_LDPNT_D2_state &lt;dbl&gt;, D_PNPL_2 &lt;dbl&gt;, B_PNPL_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_PNPL_D2_state &lt;dbl&gt;, D_PRMP_2 &lt;dbl&gt;, B_PRMP_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_PRMP_D2_state &lt;dbl&gt;, D_PTSDF_2 &lt;dbl&gt;, B_PTSDF_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_PTSDF_D2_state &lt;dbl&gt;, D_PWDIS_2 &lt;dbl&gt;, B_PWDIS_D2 &lt;int&gt;,</span>
<span class="co">#&gt; #   P_PWDIS_D2_state &lt;dbl&gt;, PM25 &lt;dbl&gt;, B_PM25 &lt;int&gt;, P_PM25_state &lt;dbl&gt;,</span>
<span class="co">#&gt; #   OZONE &lt;dbl&gt;, B_OZONE &lt;int&gt;, P_OZONE_state &lt;dbl&gt;, DSLPM &lt;dbl&gt;,</span>
<span class="co">#&gt; #   B_DSLPM &lt;int&gt;, P_DSLPM_state &lt;dbl&gt;, CANCER &lt;dbl&gt;, B_CANCR &lt;int&gt;,</span>
<span class="co">#&gt; #   P_CANCR_state &lt;dbl&gt;, RESP &lt;dbl&gt;, B_RESP &lt;int&gt;, P_RESP_state &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PTRAF &lt;dbl&gt;, B_PTRAF &lt;int&gt;, P_PTRAF_state &lt;dbl&gt;, PRE1960PCT &lt;dbl&gt;,</span>
<span class="co">#&gt; #   B_LDPNT &lt;int&gt;, P_LDPNT_state &lt;dbl&gt;, PNPL &lt;dbl&gt;, B_PNPL &lt;int&gt;,</span>
<span class="co">#&gt; #   P_PNPL_state &lt;dbl&gt;, PRMP &lt;dbl&gt;, B_PRMP &lt;int&gt;, P_PRMP_state &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PTSDF &lt;dbl&gt;, B_PTSDF &lt;int&gt;, P_PTSDF_state &lt;dbl&gt;, PWDIS &lt;dbl&gt;,</span>
<span class="co">#&gt; #   B_PWDIS &lt;int&gt;, P_PWDIS_state &lt;dbl&gt;, VULEOPCT &lt;dbl&gt;, B_VULEOPCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_VULEOPCT_state &lt;dbl&gt;, MINORPCT &lt;dbl&gt;, B_MINORPCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_MINORPCT_state &lt;dbl&gt;, LOWINCPCT &lt;dbl&gt;, B_LWINCPCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_LWINCPCT_state &lt;dbl&gt;, LINGISOPCT &lt;dbl&gt;, B_LNGISPCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_LNGISPCT_state &lt;dbl&gt;, LESSHSPCT &lt;dbl&gt;, B_LESHSPCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_LESHSPCT_state &lt;dbl&gt;, UNDER5PCT &lt;dbl&gt;, B_UNDR5PCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_UNDR5PCT_state &lt;dbl&gt;, OVER64PCT &lt;dbl&gt;, B_OVR64PCT &lt;int&gt;,</span>
<span class="co">#&gt; #   P_OVR64PCT_state &lt;dbl&gt;, T_MINORPCT &lt;chr&gt;, T_LWINCPCT &lt;chr&gt;,</span>
<span class="co">#&gt; #   T_LNGISPCT &lt;chr&gt;, T_LESHSPCT &lt;chr&gt;, T_UNDR5PCT &lt;chr&gt;, T_OVR64PCT &lt;chr&gt;,</span>
<span class="co">#&gt; #   T_VULEOPCT &lt;chr&gt;, T_PM25 &lt;chr&gt;, T_PM25_D2 &lt;chr&gt;, T_OZONE &lt;chr&gt;,</span>
<span class="co">#&gt; #   T_OZONE_D2 &lt;chr&gt;, T_DSLPM &lt;chr&gt;, T_DSLPM_D2 &lt;chr&gt;, T_CANCR &lt;chr&gt;,</span>
<span class="co">#&gt; #   T_CANCR_D2 &lt;chr&gt;, ...</span></code></pre></div>
<p>Second, the location-level percentile summaries are returned as <em>EJ.facil.data</em>. The dataframe includes both national and state percentiles for each EJSCREEN indicator. Under the default GIS option (“intersection”), these are the percentiles for a population-weighted average of a location’s indicator values.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> Here, we call a return of the summary for the first two locations in our list:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data</span><span class="op">$</span><span class="va">EJ.facil.data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">shape_ID</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Simple feature collection with 4 features and 23 fields</span>
<span class="co">#&gt; Geometry type: POINT</span>
<span class="co">#&gt; Dimension:     XY</span>
<span class="co">#&gt; Bounding box:  xmin: -105.0531 ymin: 38.01834 xmax: -99.00432 ymax: 39.64286</span>
<span class="co">#&gt; Geodetic CRS:  WGS 84</span>
<span class="co">#&gt; # A tibble: 4 x 24</span>
<span class="co">#&gt;   shape_ID `Pop. Count` `Low Income` Minority `Less HS Educ` `Ling. Isol.`</span>
<span class="co">#&gt; *    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt; 1        1           28            7       45              8            51</span>
<span class="co">#&gt; 2        1           28           11       48             16            52</span>
<span class="co">#&gt; 3        2            5           43       16             33            51</span>
<span class="co">#&gt; 4        2            5           40       18             40            63</span>
<span class="co">#&gt; # ... with 18 more variables: Age Under 5 &lt;dbl&gt;, Age Over 64 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Air, Cancer &lt;dbl&gt;, Diesel PM &lt;dbl&gt;, Lead &lt;dbl&gt;, Ozone &lt;dbl&gt;, PM &lt;dbl&gt;,</span>
<span class="co">#&gt; #   NPL &lt;dbl&gt;, RMP Facility &lt;dbl&gt;, Traffic &lt;dbl&gt;, TSD Facility &lt;dbl&gt;,</span>
<span class="co">#&gt; #   WW Discharge &lt;dbl&gt;, Resp. Hazard &lt;dbl&gt;, geography &lt;chr&gt;, Demo. Index &lt;dbl&gt;,</span>
<span class="co">#&gt; #   geometry &lt;POINT [°]&gt;, Env. indicators above 80th %ile &lt;fct&gt;,</span>
<span class="co">#&gt; #   Demo. indicators above 80th %ile &lt;fct&gt;</span></code></pre></div>
</div>
<div id="adjusting-user-selected-options" class="section level3">
<h3 class="hasAnchor">
<a href="#adjusting-user-selected-options" class="anchor"></a>Adjusting user-selected options</h3>
<p>The user is able to specify several alternative settings while compiling data with the land-based version of EJfunction(). These include:</p>
<ol style="list-style-type: decimal">
<li>The buffer distance(s) from which to select proximate CBGs. Users can modify these distances (in miles) using the <em>buff_dist</em> argument. Input value(s) must be numeric and can be a vector if the user is interested in running analyses at several bandwidths.</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># An example run with multiple buffer distances:</span>
<span class="va">my.EJ.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EJfunction.html">EJfunction</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"landbased"</span>,
           facility_data <span class="op">=</span> <span class="va">rnd.pts</span>, 
           gis_option <span class="op">=</span> <span class="st">"intersection"</span>, 
           buff_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span>,
           raster_data <span class="op">=</span> <span class="va">raster.path</span><span class="op">)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>The buffer GIS option used to extract CBG-level data from EJSCREEN. Users specify this via the <em>gis_option</em> argument. The default setting, described above, is “intersection”. Another option is “intersect”: this extracts data from all CBGs that spatially intersect with the buffer region, but does not take any population-weighting measures to address areas that fall outside the buffer. A third option is “centroid”: this extracts data from all CBGs whose centroids fall inside the buffer region.</li>
<li>The threshold percentile used to identify elevated indicators and potential populations of concern. This is set with the <em>threshold</em> argument. The default setting is the 80th percentile, as <a href="https://www.epa.gov/ejscreen/frequent-questions-about-ejscreen">initially suggested</a> by EJSCREEN.</li>
<li>The state screened, for cases when a user wants to restrict analysis to a single state. This is set with the <em>state</em> argument, using the state’s designated two letter code.</li>
<li>The inclusion of location names in EJfunction’s data outputs and ensuing secondary outputs. This is specified with the <em>input_name</em> argument, and should be set equal to the name of the sf object’s location name column. So in our running example, <em>input_name</em> could be set as:</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># An example run with multiple buffer distances:</span>
<span class="va">my.EJ.data.named</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EJfunction.html">EJfunction</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"landbased"</span>,
           facility_data <span class="op">=</span> <span class="va">rnd.pts</span>, 
           input_name <span class="op">=</span> <span class="st">"name"</span>,
           gis_option <span class="op">=</span> <span class="st">"intersection"</span>, 
           buff_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span>,
           raster_data <span class="op">=</span> <span class="va">raster.path</span><span class="op">)</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>
<span class="co">#&gt; Joining, by = c("ID", "STATE_NAME", "ST_ABBREV")</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>

<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>
<span class="co">#&gt; Joining, by = c("ID", "STATE_NAME", "ST_ABBREV")</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>

<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>
<span class="co">#&gt; Joining, by = c("ID", "STATE_NAME", "ST_ABBREV")</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span></code></pre></div>
</div>
</div>
<div id="canned-visualizations" class="section level1">
<h1 class="hasAnchor">
<a href="#canned-visualizations" class="anchor"></a>Canned visualizations</h1>
<p>The package also includes several sub-functions that produce visualizations of potential interest in an initial EJ screening.</p>
<p>Two visualizations are created by default in EJfunction(). The first is a set of boxplots displaying the range of indicator percentiles across all CBGs included in the screening. These plots provide a multivariate sense of potential EJ correlations. Our running example, for instance, returns the following (using national percentiles):</p>
<p><img src="Using_EJSCREENbatch_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<p>A second, related set of figures is also included by default in EJfunction(). Data from all selected CBGs are used to produce two-way correlation plots between the environmental or demographic indices. Again, these summary visualizations highlight which environmental or demographic indicators are correlated in neighborhoods that are proximate to the user’s inputted locations. With our running example data, this returns:</p>
<p><img src="Using_EJSCREENbatch_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>The package also includes several visualization sub-functions that are not called by default in EJfunction(). In each of these sub-functions, the data object created by EJfunction() must be input as a required argument. We describe these now:</p>
<div id="interactive-mapping" class="section level3">
<h3 class="hasAnchor">
<a href="#interactive-mapping" class="anchor"></a>Interactive mapping</h3>
<p>The <em>EJMaps()</em> function creates an <a href="https://rstudio.github.io/leaflet/">interactive map</a> of the U.S. that displays the user’s locations of interest as points. Points are shaded based on the number of indicators above a screening percentile threshold, allowing users to easily identify locations that may be good candidates for outreach efforts and/or further analysis. The map’s interactive, point and click functionality also renders pop-up tables that share summary data for locations of interest.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJMaps.html">EJMaps</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, perc_geog <span class="op">=</span> <span class="st">'US'</span>, 
               indic_option <span class="op">=</span> <span class="st">'total'</span>,
               save_option <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<div id="htmlwidget-81018782e8888362833a" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-81018782e8888362833a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[31.7507312298786,35.0167751402088,38.0183408183872,39.2497840304078,37.757685076269,39.8311481597917,42.3030652982371,38.0771289127151,39.7106122727545,38.4877378714485,38.5373474822251,39.6428564893798,38.7317390232688,35.9232438175317,34.4238595089921,34.781321805041,32.7661994452898,34.642759520932,38.2550503313165,45.2386995048803],[-86.773038138744,-92.4108478916555,-105.053112321127,-102.561679114648,-107.667306649452,-84.8260284234927,-96.3613506105778,-96.42774008372,-98.093501350174,-97.4094496080098,-100.061385486859,-99.0043182071911,-101.945254533406,-80.5403833594587,-77.8729251352028,-82.5054981546077,-96.0863007545552,-101.938976023106,-112.066485304044,-91.049294115355],5,null,null,{"interactive":true,"className":"","stroke":true,"color":["#FEBF6F","#9E0142","#FEBF6F","#BFE5A0","#FEBF6F","#BFE5A0","#BFE5A0","#5E4FA2","#FEBF6F","#5E4FA2","#BFE5A0","#FEBF6F","#5E4FA2","#5E4FA2","#5E4FA2","#BFE5A0","#5E4FA2","#FEBF6F","#808080","#5E4FA2"],"weight":5,"opacity":0.75,"fill":true,"fillColor":["#FEBF6F","#9E0142","#FEBF6F","#BFE5A0","#FEBF6F","#BFE5A0","#BFE5A0","#5E4FA2","#FEBF6F","#5E4FA2","#BFE5A0","#FEBF6F","#5E4FA2","#5E4FA2","#5E4FA2","#BFE5A0","#5E4FA2","#FEBF6F","#808080","#5E4FA2"],"fillOpacity":0.2},null,null,["<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_19&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>19&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   6&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 47&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 24&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 38&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 71&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 93&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 18&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 45&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td>  8&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>  8&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 10&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 97&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_9&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 9&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>1385&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 46&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 39&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 62&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 40&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 83&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 43&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 21&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 42&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 86&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 31&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 54&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 45&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 48&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 29&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 83&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_1&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 1&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>  28&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 45&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td>  8&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 98&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 31&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 87&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 31&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td>  3&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 80&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  0&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_4&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 4&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   5&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 41&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 54&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 65&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 62&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 69&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 76&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 86&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 12&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 48&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  1&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_6&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 6&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   0&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 47&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 25&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 39&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 57&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 22&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 90&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 91&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 62&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  6&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  0&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_12&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>12&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td> 981&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 79&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 29&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 74&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 67&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 86&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 20&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 47&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 41&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 67&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 18&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 76&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 39&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 31&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 21&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_11&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>11&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   7&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 28&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 11&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 40&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 69&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 13&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 66&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 57&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 23&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 11&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 84&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 14&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 12&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 17&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  8&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_5&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 5&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   0&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 29&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 14&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 25&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 80&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 24&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 10&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 19&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  3&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  3&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 28&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_3&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 3&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   1&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 67&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 11&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 24&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 73&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 86&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  6&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  6&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 78&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 50&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 12&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>  4&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 89&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  5&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_16&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>16&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>  17&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 34&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td>  4&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 58&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 57&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 17&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 10&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 71&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 75&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 22&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  6&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 15&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 17&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_18&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>18&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   1&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 50&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 12&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 25&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 37&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 92&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  3&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 76&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 66&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  3&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>  6&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 80&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  4&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_2&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 2&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   5&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 43&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 33&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 54&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 93&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 77&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 49&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  9&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>  4&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 88&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 11&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 69&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  4&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_7&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 7&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   2&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 41&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 27&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 41&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 66&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 39&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  1&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 77&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  3&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>  7&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  1&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_15&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>15&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td> 925&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 58&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 52&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 62&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 63&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 34&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 74&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 48&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 31&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 46&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 33&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 58&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_17&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>17&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td> 269&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 38&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 55&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 65&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 62&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 17&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 23&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 15&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 54&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 35&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 10&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 32&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 58&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 49&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_20&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>20&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>1725&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 37&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 39&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 32&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 54&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 81&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 38&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 80&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 44&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 19&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 41&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 67&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 58&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 61&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 21&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td> 33&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 68&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 70&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_14&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>14&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>  38&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 48&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td>  8&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 64&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 53&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td>  8&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 52&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td> 23&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 24&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 36&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 72&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 50&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 10&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  4&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  9&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td> 42&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_13&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>13&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   7&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 65&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td> 37&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 36&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 56&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 64&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 37&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  8&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  4&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 58&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 89&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td> 12&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 99&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td> 12&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td> 19&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  6&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_8&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td> 8&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>   0&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>NA&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class= id='popup'><tr><td><\/td><th>name&emsp;<\/th><td>facility_name_10&emsp;<\/td><\/tr><tr><td><\/td><th>shape_ID&emsp;<\/th><td>10&emsp;<\/td><\/tr><tr><td><\/td><th>Pop. Count&emsp;<\/th><td>  26&emsp;<\/td><\/tr><tr><td><\/td><th>Low Income&emsp;<\/th><td> 34&emsp;<\/td><\/tr><tr><td><\/td><th>Minority&emsp;<\/th><td>  6&emsp;<\/td><\/tr><tr><td><\/td><th>Less HS Educ&emsp;<\/th><td> 67&emsp;<\/td><\/tr><tr><td><\/td><th>Ling. Isol.&emsp;<\/th><td> 51&emsp;<\/td><\/tr><tr><td><\/td><th>Age Under 5&emsp;<\/th><td> 42&emsp;<\/td><\/tr><tr><td><\/td><th>Age Over 64&emsp;<\/th><td> 80&emsp;<\/td><\/tr><tr><td><\/td><th>Air, Cancer&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>Diesel PM&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>Lead&emsp;<\/th><td> 43&emsp;<\/td><\/tr><tr><td><\/td><th>Ozone&emsp;<\/th><td> 16&emsp;<\/td><\/tr><tr><td><\/td><th>PM&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>NPL&emsp;<\/th><td> 18&emsp;<\/td><\/tr><tr><td><\/td><th>RMP Facility&emsp;<\/th><td>  2&emsp;<\/td><\/tr><tr><td><\/td><th>Traffic&emsp;<\/th><td>  0&emsp;<\/td><\/tr><tr><td><\/td><th>TSD Facility&emsp;<\/th><td>  5&emsp;<\/td><\/tr><tr><td><\/td><th>WW Discharge&emsp;<\/th><td> 27&emsp;<\/td><\/tr><tr><td><\/td><th>Resp. Hazard&emsp;<\/th><td>  2&emsp;<\/td><\/tr><\/table><\/div>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#5E4FA2","#BFE5A0","#FEBF6F","#9E0142"],"labels":["0","1","2","3"],"na_color":"#808080","na_label":"NA","opacity":0.5,"position":"bottomright","type":"factor","title":"Total indicators above 80th %ile","extra":null,"layerId":null,"className":"info legend","group":null}]}],"fitBounds":[31.7507312298786,-112.066485304044,45.2386995048803,-77.8729251352028,[]],"limits":{"lat":[31.7507312298786,45.2386995048803],"lng":[-112.066485304044,-77.8729251352028]}},"evals":[],"jsHooks":[]}</script><p>Using the <em>indic_option</em> argument, EJMaps can summarize environmental or demographic indicators separately or summarize all indicators together. <a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>. Interactive maps need to be downloaded before they can be opened in a browser for use. It is also possible to return a static version of the map by using the <em>save_option</em> argument.</p>
</div>
<div id="ranking-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#ranking-tables" class="anchor"></a>Ranking tables</h3>
<p>The EJRanking() function produces a table of locations or CBGs ordered by the number of environmental, demographic or total indicators above the 80th percentile threshold (or a user-specified alternative). These locations could be used to inform or target more tailored follow up analyses. We show two examples below.</p>
<p>First: a location-specific ranking table <em>(rank_type = ‘location’)</em>, flagging locations with the highest count of total indicator averages above the national 80th percentile.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJRanking.html">EJRanking</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, rank_type <span class="op">=</span> <span class="st">'location'</span>,
                     rank_geography_type <span class="op">=</span> <span class="st">'US'</span>, rank_count <span class="op">=</span> <span class="fl">5</span>, 
                     save_option <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<template id="ee4100c5-5e28-4cb5-812e-ce1bfcb1045e"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-fec3ece0{table-layout:auto;border-collapse:collapse;width:30%;}.cl-feb2d45a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-feb2d45b{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-feb3227a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-feb3227b{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-feb399c6{background-clip: padding-box;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-feb399c7{background-clip: padding-box;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-feb399c8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-feb399c9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-feb399ca{background-clip: padding-box;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-feb399cb{background-clip: padding-box;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-fec3ece0">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-feb399ca"><p class="cl-feb3227a"><span class="cl-feb2d45a">Rank</span></p></td>
<td class="cl-feb399cb"><p class="cl-feb3227b"><span class="cl-feb2d45a">name</span></p></td>
<td class="cl-feb399ca"><p class="cl-feb3227a"><span class="cl-feb2d45a">Env. indicators above 80th %ile</span></p></td>
<td class="cl-feb399ca"><p class="cl-feb3227a"><span class="cl-feb2d45a">Demo. indicators above 80th %ile</span></p></td>
<td class="cl-feb399ca"><p class="cl-feb3227a"><span class="cl-feb2d45a">Total indicators above 80th %ile</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">1</span></p></td>
<td class="cl-feb399c7"><p class="cl-feb3227b"><span class="cl-feb2d45b">facility_name_9</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">3</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">0</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">3</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
<td class="cl-feb399c9"><p class="cl-feb3227b"><span class="cl-feb2d45b">facility_name_19</span></p></td>
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">0</span></p></td>
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">3</span></p></td>
<td class="cl-feb399c7"><p class="cl-feb3227b"><span class="cl-feb2d45b">facility_name_13</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">0</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">4</span></p></td>
<td class="cl-feb399c9"><p class="cl-feb3227b"><span class="cl-feb2d45b">facility_name_1</span></p></td>
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">1</span></p></td>
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">1</span></p></td>
<td class="cl-feb399c8"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">5</span></p></td>
<td class="cl-feb399c7"><p class="cl-feb3227b"><span class="cl-feb2d45b">facility_name_6</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">1</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">1</span></p></td>
<td class="cl-feb399c6"><p class="cl-feb3227a"><span class="cl-feb2d45b">2</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="5910e5f4-896a-49d6-95b8-f17cedc3db68"></div>
<script>
var dest = document.getElementById("5910e5f4-896a-49d6-95b8-f17cedc3db68");
var template = document.getElementById("ee4100c5-5e28-4cb5-812e-ce1bfcb1045e");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>Next: a similar table at the CBG scale <em>(rank_type = ‘cbg’)</em>, flagging block groups with high counts of indicators that fall above the national 80th percentile.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJRanking.html">EJRanking</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, rank_type <span class="op">=</span> <span class="st">'cbg'</span>,
                     rank_geography_type <span class="op">=</span> <span class="st">'US'</span>, rank_count <span class="op">=</span> <span class="fl">5</span>, 
                     save_option <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<template id="80e441d1-aa6c-4db3-9f34-136d79708e75"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-ff67a6e6{table-layout:auto;border-collapse:collapse;width:30%;}.cl-ff5afcc0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ff5afcc1{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ff5b23c6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ff5b23c7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ff5b71e6{background-clip: padding-box;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5b71e7{background-clip: padding-box;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5b71e8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5b71e9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5b71ea{background-clip: padding-box;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5b71eb{background-clip: padding-box;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-ff67a6e6">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-ff5b71ea"><p class="cl-ff5b23c6"><span class="cl-ff5afcc0">CBG code</span></p></td>
<td class="cl-ff5b71eb"><p class="cl-ff5b23c7"><span class="cl-ff5afcc0">Total indicators above 80th %ile</span></p></td>
<td class="cl-ff5b71eb"><p class="cl-ff5b23c7"><span class="cl-ff5afcc0">Env. indicators above 80th %ile</span></p></td>
<td class="cl-ff5b71eb"><p class="cl-ff5b23c7"><span class="cl-ff5afcc0">Demo. indicators above 80th %ile</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-ff5b71e6"><p class="cl-ff5b23c6"><span class="cl-ff5afcc1">050450310062</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">5</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">4</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">1</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ff5b71e9"><p class="cl-ff5b23c6"><span class="cl-ff5afcc1">050450311011</span></p></td>
<td class="cl-ff5b71e8"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">4</span></p></td>
<td class="cl-ff5b71e8"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">3</span></p></td>
<td class="cl-ff5b71e8"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">1</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ff5b71e6"><p class="cl-ff5b23c6"><span class="cl-ff5afcc1">050450311012</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">3</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">3</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ff5b71e9"><p class="cl-ff5b23c6"><span class="cl-ff5afcc1">201834759002</span></p></td>
<td class="cl-ff5b71e8"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">3</span></p></td>
<td class="cl-ff5b71e8"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">2</span></p></td>
<td class="cl-ff5b71e8"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">1</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ff5b71e6"><p class="cl-ff5b23c6"><span class="cl-ff5afcc1">181770011004</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">3</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">0</span></p></td>
<td class="cl-ff5b71e7"><p class="cl-ff5b23c7"><span class="cl-ff5afcc1">3</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="0e3bf699-5b36-4e0a-8952-5d0d7a169b05"></div>
<script>
var dest = document.getElementById("0e3bf699-5b36-4e0a-8952-5d0d7a169b05");
var template = document.getElementById("80e441d1-aa6c-4db3-9f34-136d79708e75");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>Users can further adjust the output tables through two other arguments. <em>rank_geography_type</em> determines whether the rankings use national (“US”) or state (“state”) percentiles. <em>rank_count</em> determines the length of the rankings list.</p>
</div>
<div id="heat-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#heat-tables" class="anchor"></a>Heat tables</h3>
<p>The EJHeatTables() function creates tables that report a single location’s (or set of locations’) summarized state or national percentile values for all 16 EJ indicators. Table cells with values that fall over the 80th, 90th, and 95th percentiles are highlighted in yellow, orange, and red, respectively. We illustrate three flavors of these tables below.</p>
<p>The first option, set with the argument <em>type = ‘all’</em>, returns a heat table for the median CBG value across ALL locations. This option may be especially useful for comparing results across an EJfunction run that includes several buffer distances or GIS methods. Using our running example again, we obtain:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJHeatTables.html">EJHeatTables</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, heat_table_type <span class="op">=</span> <span class="st">'all'</span>, 
                       heat_table_geog_lvl <span class="op">=</span> <span class="st">'US'</span>, save_option <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; Warning in melt.data.table(df.var.wm): id.vars and measure.vars are internally</span>
<span class="co">#&gt; guessed when both are 'NULL'. All non-numeric/integer/logical type columns are</span>
<span class="co">#&gt; considered id.vars, which in this case are columns []. Consider providing at</span>
<span class="co">#&gt; least one of 'id' or 'measure' vars in future.</span>

<span class="co">#&gt; Warning in melt.data.table(df.var.wm): id.vars and measure.vars are internally</span>
<span class="co">#&gt; guessed when both are 'NULL'. All non-numeric/integer/logical type columns are</span>
<span class="co">#&gt; considered id.vars, which in this case are columns []. Consider providing at</span>
<span class="co">#&gt; least one of 'id' or 'measure' vars in future.</span>

<span class="co">#&gt; Warning in melt.data.table(df.var.wm): id.vars and measure.vars are internally</span>
<span class="co">#&gt; guessed when both are 'NULL'. All non-numeric/integer/logical type columns are</span>
<span class="co">#&gt; considered id.vars, which in this case are columns []. Consider providing at</span>
<span class="co">#&gt; least one of 'id' or 'measure' vars in future.</span></code></pre></div>
<template id="0b7e2b2a-abcb-49f1-9d34-0300a07f026a"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-ffd36386{border-collapse:collapse;}.cl-ffc2c198{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ffc2c199{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ffc2e880{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ffc2e881{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ffc35d42{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d43{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d44{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d45{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d46{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d47{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d48{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d49{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d4a{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d4b{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc35d4c{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc38466{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc38467{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc38468{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc38469{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3846a{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3846b{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3846c{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3846d{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3846e{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3846f{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc38470{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abbc{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abbd{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abbe{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abbf{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc0{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc1{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc2{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc3{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc4{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc5{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3abc6{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3d286{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3d287{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffc3d288{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-ffd36386">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-ffc3d286"><p class="cl-ffc2e880"><span class="cl-ffc2c198"></span></p></td>
<td class="cl-ffc3d288"><p class="cl-ffc2e880"><span class="cl-ffc2c198"></span></p></td>
<td class="cl-ffc3d287"><p class="cl-ffc2e881"><span class="cl-ffc2c198">1 mile radius</span></p></td>
<td class="cl-ffc3d287"><p class="cl-ffc2e881"><span class="cl-ffc2c198">3 mile radius</span></p></td>
<td class="cl-ffc3d287"><p class="cl-ffc2e881"><span class="cl-ffc2c198">5 mile radius</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d44"><p class="cl-ffc2e880"><span class="cl-ffc2c198">Demographic</span></p></td>
<td class="cl-ffc35d43"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d44"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d43"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Minority</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">22</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">28</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">33</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d47"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d46"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Low Income</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">52</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">53</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">61</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc3abc0"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3abbf"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Less HS Educ</span></p></td>
<td class="cl-ffc3abbe"><p class="cl-ffc2e881"><span class="cl-ffc2c199">48</span></p></td>
<td class="cl-ffc3abbe"><p class="cl-ffc2e881"><span class="cl-ffc2c199">56</span></p></td>
<td class="cl-ffc3abbe"><p class="cl-ffc2e881"><span class="cl-ffc2c199">64</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d44"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d43"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Ling. Isol.</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">45</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">45</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">45</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d44"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d43"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Age Under 5</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">38</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">40</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">44</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc3abc3"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3abc2"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Age Over 64</span></p></td>
<td class="cl-ffc3abc1"><p class="cl-ffc2e881"><span class="cl-ffc2c199">78</span></p></td>
<td class="cl-ffc3abc1"><p class="cl-ffc2e881"><span class="cl-ffc2c199">69</span></p></td>
<td class="cl-ffc3abc1"><p class="cl-ffc2e881"><span class="cl-ffc2c199">66</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc3abc6"><p class="cl-ffc2e880"><span class="cl-ffc2c198">Environmental</span></p></td>
<td class="cl-ffc3abc4"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3abc5"><p class="cl-ffc2e881"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3abc5"><p class="cl-ffc2e881"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3abc5"><p class="cl-ffc2e881"><span class="cl-ffc2c199"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d47"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d46"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Lead</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">60</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">53</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">52</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d47"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d46"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Diesel PM</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">14</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">29</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">33</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d4a"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d49"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Air, Cancer</span></p></td>
<td class="cl-ffc35d48"><p class="cl-ffc2e881"><span class="cl-ffc2c199">17</span></p></td>
<td class="cl-ffc35d48"><p class="cl-ffc2e881"><span class="cl-ffc2c199">21</span></p></td>
<td class="cl-ffc35d48"><p class="cl-ffc2e881"><span class="cl-ffc2c199">52</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d4c"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc38466"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Resp. Hazard</span></p></td>
<td class="cl-ffc35d4b"><p class="cl-ffc2e881"><span class="cl-ffc2c199">19</span></p></td>
<td class="cl-ffc35d4b"><p class="cl-ffc2e881"><span class="cl-ffc2c199">28</span></p></td>
<td class="cl-ffc35d4b"><p class="cl-ffc2e881"><span class="cl-ffc2c199">50</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc38467"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc38469"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Traffic</span></p></td>
<td class="cl-ffc38468"><p class="cl-ffc2e881"><span class="cl-ffc2c199">17</span></p></td>
<td class="cl-ffc38468"><p class="cl-ffc2e881"><span class="cl-ffc2c199">21</span></p></td>
<td class="cl-ffc38468"><p class="cl-ffc2e881"><span class="cl-ffc2c199">26</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d44"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d43"><p class="cl-ffc2e880"><span class="cl-ffc2c199">WW Discharge</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">56</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">58</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">61</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d47"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d46"><p class="cl-ffc2e880"><span class="cl-ffc2c199">NPL</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">23</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">28</span></p></td>
<td class="cl-ffc35d45"><p class="cl-ffc2e881"><span class="cl-ffc2c199">29</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc35d44"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc35d43"><p class="cl-ffc2e880"><span class="cl-ffc2c199">RMP Facility</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">45</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">50</span></p></td>
<td class="cl-ffc35d42"><p class="cl-ffc2e881"><span class="cl-ffc2c199">54</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc3846a"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3846c"><p class="cl-ffc2e880"><span class="cl-ffc2c199">TSD Facility</span></p></td>
<td class="cl-ffc3846b"><p class="cl-ffc2e881"><span class="cl-ffc2c199">8</span></p></td>
<td class="cl-ffc3846b"><p class="cl-ffc2e881"><span class="cl-ffc2c199">28</span></p></td>
<td class="cl-ffc3846b"><p class="cl-ffc2e881"><span class="cl-ffc2c199">35</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc3846e"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc3846f"><p class="cl-ffc2e880"><span class="cl-ffc2c199">Ozone</span></p></td>
<td class="cl-ffc3846d"><p class="cl-ffc2e881"><span class="cl-ffc2c199">64</span></p></td>
<td class="cl-ffc3846d"><p class="cl-ffc2e881"><span class="cl-ffc2c199">65</span></p></td>
<td class="cl-ffc3846d"><p class="cl-ffc2e881"><span class="cl-ffc2c199">45</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-ffc3abbc"><p class="cl-ffc2e880"><span class="cl-ffc2c199"></span></p></td>
<td class="cl-ffc38470"><p class="cl-ffc2e880"><span class="cl-ffc2c199">PM</span></p></td>
<td class="cl-ffc3abbd"><p class="cl-ffc2e881"><span class="cl-ffc2c199">33</span></p></td>
<td class="cl-ffc3abbd"><p class="cl-ffc2e881"><span class="cl-ffc2c199">50</span></p></td>
<td class="cl-ffc3abbd"><p class="cl-ffc2e881"><span class="cl-ffc2c199">51</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="9ac889f0-3697-44d2-8c63-8a95f9f1e1a1"></div>
<script>
var dest = document.getElementById("9ac889f0-3697-44d2-8c63-8a95f9f1e1a1");
var template = document.getElementById("0b7e2b2a-abcb-49f1-9d34-0300a07f026a");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>The second option, <em>type = ‘single’</em>, is similar in nature, but returns a heat table of the median values for a SINGLE user-specified location. The user specifies this single location through the <em>keepid</em> argument, denoting the integer that matches the desired location’s shape_id in the <em>EJ.facil.data</em> object.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJHeatTables.html">EJHeatTables</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, heat_table_type <span class="op">=</span> <span class="st">'single'</span>,
                          heat_table_geog_lvl <span class="op">=</span> <span class="st">'US'</span>, save_option <span class="op">=</span> <span class="cn">F</span>,
                          heat_table_keepid <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>
<span class="co">#&gt; Warning in melt.data.table(dt[[i]]): id.vars and measure.vars are internally</span>
<span class="co">#&gt; guessed when both are 'NULL'. All non-numeric/integer/logical type columns are</span>
<span class="co">#&gt; considered id.vars, which in this case are columns []. Consider providing at</span>
<span class="co">#&gt; least one of 'id' or 'measure' vars in future.</span>

<span class="co">#&gt; Warning in melt.data.table(dt[[i]]): id.vars and measure.vars are internally</span>
<span class="co">#&gt; guessed when both are 'NULL'. All non-numeric/integer/logical type columns are</span>
<span class="co">#&gt; considered id.vars, which in this case are columns []. Consider providing at</span>
<span class="co">#&gt; least one of 'id' or 'measure' vars in future.</span>

<span class="co">#&gt; Warning in melt.data.table(dt[[i]]): id.vars and measure.vars are internally</span>
<span class="co">#&gt; guessed when both are 'NULL'. All non-numeric/integer/logical type columns are</span>
<span class="co">#&gt; considered id.vars, which in this case are columns []. Consider providing at</span>
<span class="co">#&gt; least one of 'id' or 'measure' vars in future.</span></code></pre></div>
<template id="34405a16-5d27-44b8-a883-a1d4bae1c384"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-0042e5b2{border-collapse:collapse;}.cl-00321bc4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-00321bc5{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-003242de{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-003242df{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0032b7f0{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f1{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f2{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f3{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f4{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f5{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f6{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f7{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f8{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7f9{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032b7fa{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df46{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df47{width:82.9pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df48{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df49{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df4a{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df4b{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df4c{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df4d{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df4e{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df4f{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0032df50{width:82.9pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00330624{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00330625{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00330626{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00330627{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00330628{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00330629{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0033062a{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0033062b{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0033062c{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0033062d{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0033062e{width:82.9pt;background-clip: padding-box;background-color:rgba(255, 165, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00332d2a{width:82.9pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00332d2b{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00332d2c{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00332d2d{width:82.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00332d2e{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-0042e5b2">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-00332d2c"><p class="cl-003242de"><span class="cl-00321bc4"></span></p></td>
<td class="cl-00332d2e"><p class="cl-003242de"><span class="cl-00321bc4"></span></p></td>
<td class="cl-00332d2d"><p class="cl-003242df"><span class="cl-00321bc4">1 mile radius</span></p></td>
<td class="cl-00332d2d"><p class="cl-003242df"><span class="cl-00321bc4">3 mile radius</span></p></td>
<td class="cl-00332d2d"><p class="cl-003242df"><span class="cl-00321bc4">5 mile radius</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f2"><p class="cl-003242de"><span class="cl-00321bc4">Demographic</span></p></td>
<td class="cl-0032b7f1"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f8"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f7"><p class="cl-003242de"><span class="cl-00321bc5">Low Income</span></p></td>
<td class="cl-0032b7f6"><p class="cl-003242df"><span class="cl-00321bc5">46</span></p></td>
<td class="cl-0032b7f6"><p class="cl-003242df"><span class="cl-00321bc5">50</span></p></td>
<td class="cl-0032b7f6"><p class="cl-003242df"><span class="cl-00321bc5">62</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f2"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f1"><p class="cl-003242de"><span class="cl-00321bc5">Minority</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">39</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">41</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">47</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-00330626"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-00330625"><p class="cl-003242de"><span class="cl-00321bc5">Less HS Educ</span></p></td>
<td class="cl-00330624"><p class="cl-003242df"><span class="cl-00321bc5">62</span></p></td>
<td class="cl-00330624"><p class="cl-003242df"><span class="cl-00321bc5">59</span></p></td>
<td class="cl-00330624"><p class="cl-003242df"><span class="cl-00321bc5">46</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f2"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f1"><p class="cl-003242de"><span class="cl-00321bc5">Ling. Isol.</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">51</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">52</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">53</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f2"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f1"><p class="cl-003242de"><span class="cl-00321bc5">Age Under 5</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">53</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">56</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">54</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-00330629"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-00330628"><p class="cl-003242de"><span class="cl-00321bc5">Age Over 64</span></p></td>
<td class="cl-00330627"><p class="cl-003242df"><span class="cl-00321bc5">40</span></p></td>
<td class="cl-00330627"><p class="cl-003242df"><span class="cl-00321bc5">46</span></p></td>
<td class="cl-00330627"><p class="cl-003242df"><span class="cl-00321bc5">26</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0033062c"><p class="cl-003242de"><span class="cl-00321bc4">Environmental</span></p></td>
<td class="cl-0033062a"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0033062b"><p class="cl-003242df"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0033062b"><p class="cl-003242df"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0033062b"><p class="cl-003242df"><span class="cl-00321bc5"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0033062d"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-00332d2b"><p class="cl-003242de"><span class="cl-00321bc5">Air, Cancer</span></p></td>
<td class="cl-00332d2a"><p class="cl-003242df"><span class="cl-00321bc5">83</span></p></td>
<td class="cl-00332d2a"><p class="cl-003242df"><span class="cl-00321bc5">84</span></p></td>
<td class="cl-0033062e"><p class="cl-003242df"><span class="cl-00321bc5">90</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f5"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f4"><p class="cl-003242de"><span class="cl-00321bc5">Diesel PM</span></p></td>
<td class="cl-0032b7f3"><p class="cl-003242df"><span class="cl-00321bc5">43</span></p></td>
<td class="cl-0032b7f3"><p class="cl-003242df"><span class="cl-00321bc5">44</span></p></td>
<td class="cl-0032b7f3"><p class="cl-003242df"><span class="cl-00321bc5">48</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f8"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f7"><p class="cl-003242de"><span class="cl-00321bc5">Lead</span></p></td>
<td class="cl-0032b7f6"><p class="cl-003242df"><span class="cl-00321bc5">21</span></p></td>
<td class="cl-0032b7f6"><p class="cl-003242df"><span class="cl-00321bc5">21</span></p></td>
<td class="cl-0032b7f6"><p class="cl-003242df"><span class="cl-00321bc5">20</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7fa"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032df46"><p class="cl-003242de"><span class="cl-00321bc5">Ozone</span></p></td>
<td class="cl-0032b7f9"><p class="cl-003242df"><span class="cl-00321bc5">42</span></p></td>
<td class="cl-0032b7f9"><p class="cl-003242df"><span class="cl-00321bc5">43</span></p></td>
<td class="cl-0032b7f9"><p class="cl-003242df"><span class="cl-00321bc5">42</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f8"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f7"><p class="cl-003242de"><span class="cl-00321bc5">PM</span></p></td>
<td class="cl-0032df47"><p class="cl-003242df"><span class="cl-00321bc5">86</span></p></td>
<td class="cl-0032df47"><p class="cl-003242df"><span class="cl-00321bc5">86</span></p></td>
<td class="cl-0032df47"><p class="cl-003242df"><span class="cl-00321bc5">86</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f5"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f4"><p class="cl-003242de"><span class="cl-00321bc5">NPL</span></p></td>
<td class="cl-0032b7f3"><p class="cl-003242df"><span class="cl-00321bc5">31</span></p></td>
<td class="cl-0032b7f3"><p class="cl-003242df"><span class="cl-00321bc5">31</span></p></td>
<td class="cl-0032b7f3"><p class="cl-003242df"><span class="cl-00321bc5">28</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f2"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f1"><p class="cl-003242de"><span class="cl-00321bc5">RMP Facility</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">54</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">56</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">72</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032df4a"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032df49"><p class="cl-003242de"><span class="cl-00321bc5">Traffic</span></p></td>
<td class="cl-0032df48"><p class="cl-003242df"><span class="cl-00321bc5">45</span></p></td>
<td class="cl-0032df48"><p class="cl-003242df"><span class="cl-00321bc5">43</span></p></td>
<td class="cl-0032df48"><p class="cl-003242df"><span class="cl-00321bc5">49</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032df4b"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032df4d"><p class="cl-003242de"><span class="cl-00321bc5">TSD Facility</span></p></td>
<td class="cl-0032df4c"><p class="cl-003242df"><span class="cl-00321bc5">48</span></p></td>
<td class="cl-0032df4c"><p class="cl-003242df"><span class="cl-00321bc5">53</span></p></td>
<td class="cl-0032df4c"><p class="cl-003242df"><span class="cl-00321bc5">74</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032b7f2"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032b7f1"><p class="cl-003242de"><span class="cl-00321bc5">WW Discharge</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">29</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">33</span></p></td>
<td class="cl-0032b7f0"><p class="cl-003242df"><span class="cl-00321bc5">43</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-0032df4f"><p class="cl-003242de"><span class="cl-00321bc5"></span></p></td>
<td class="cl-0032df4e"><p class="cl-003242de"><span class="cl-00321bc5">Resp. Hazard</span></p></td>
<td class="cl-0032df50"><p class="cl-003242df"><span class="cl-00321bc5">83</span></p></td>
<td class="cl-0032df50"><p class="cl-003242df"><span class="cl-00321bc5">83</span></p></td>
<td class="cl-0032df50"><p class="cl-003242df"><span class="cl-00321bc5">86</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="7661b5e3-7d98-4a8d-8431-141c793b66a4"></div>
<script>
var dest = document.getElementById("7661b5e3-7d98-4a8d-8431-141c793b66a4");
var template = document.getElementById("34405a16-5d27-44b8-a883-a1d4bae1c384");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>The third option, <em>type = ‘topn’</em>, provides a heat table of location-level summary values for a list of the top ranked EJ locations (based on counts of indicators above the 80th percentile threshold). The user can select the number of locations included through the <em>heat_table_topN</em> argument.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJHeatTables.html">EJHeatTables</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, heat_table_type <span class="op">=</span> <span class="st">'topn'</span>,
                        heat_table_geog_lvl <span class="op">=</span> <span class="st">'US'</span>, save_option <span class="op">=</span> <span class="cn">F</span>,
                        heat_table_topN <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<template id="b2db2a2a-2d3c-4a0c-a960-2f60a202a91a"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-01202774{border-collapse:collapse;}.cl-010c9e5c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-010c9e5d{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-010c9e5e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-010c9e5f{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-010d8a2e{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a2f{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a30{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a31{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a32{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a33{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a34{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a35{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a36{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a37{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010d8a38{width:97pt;background-clip: padding-box;background-color:rgba(255, 165, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafcc{width:97pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafcd{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafce{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafcf{width:97pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd0{width:97pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd1{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd2{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd3{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd4{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd5{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dafd6{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6aa{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6ab{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6ac{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6ad{width:97pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6ae{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6af{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6b0{width:103.1pt;background-clip: padding-box;background-color:rgba(255, 0, 0, 1.00);vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6b1{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6b2{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6b3{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dd6b4{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdba{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdbb{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdbc{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdbd{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdbe{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdbf{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdc0{width:97pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdc1{width:97pt;background-clip: padding-box;background-color:rgba(255, 165, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdc2{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdc3{width:97pt;background-clip: padding-box;background-color:rgba(255, 0, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010dfdc4{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24ca{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24cb{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24cc{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24cd{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24ce{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24cf{width:103.1pt;background-clip: padding-box;background-color:rgba(255, 165, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24d0{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24d1{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24d2{width:97pt;background-clip: padding-box;background-color:rgba(255, 255, 0, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24d3{width:97pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e24d4{width:103.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e4bda{width:90.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-010e4bdb{width:93.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-01202774">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-010e4bda"><p class="cl-010c9e5e"><span class="cl-010c9e5c"></span></p></td>
<td class="cl-010e4bdb"><p class="cl-010c9e5e"><span class="cl-010c9e5c"></span></p></td>
<td class="cl-010e24d3"><p class="cl-010c9e5f"><span class="cl-010c9e5c">facility_name_9</span></p></td>
<td class="cl-010e24d4"><p class="cl-010c9e5f"><span class="cl-010c9e5c">facility_name_19</span></p></td>
<td class="cl-010e24d3"><p class="cl-010c9e5f"><span class="cl-010c9e5c">facility_name_1</span></p></td>
<td class="cl-010e24d3"><p class="cl-010c9e5f"><span class="cl-010c9e5c">facility_name_6</span></p></td>
<td class="cl-010e24d3"><p class="cl-010c9e5f"><span class="cl-010c9e5c">facility_name_3</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a30"><p class="cl-010c9e5e"><span class="cl-010c9e5c">Demographic</span></p></td>
<td class="cl-010d8a2f"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a31"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010dd6b2"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dd6b1"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Low Income</span></p></td>
<td class="cl-010dd6b3"><p class="cl-010c9e5f"><span class="cl-010c9e5d">46</span></p></td>
<td class="cl-010dd6b4"><p class="cl-010c9e5f"><span class="cl-010c9e5d">47</span></p></td>
<td class="cl-010dd6b3"><p class="cl-010c9e5f"><span class="cl-010c9e5d">7</span></p></td>
<td class="cl-010dd6b3"><p class="cl-010c9e5f"><span class="cl-010c9e5d">47</span></p></td>
<td class="cl-010dd6b3"><p class="cl-010c9e5f"><span class="cl-010c9e5d">67</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a30"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2f"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Minority</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">39</span></p></td>
<td class="cl-010d8a31"><p class="cl-010c9e5f"><span class="cl-010c9e5d">24</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">45</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">25</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">11</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010dfdbd"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dfdbb"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Less HS Educ</span></p></td>
<td class="cl-010dfdbc"><p class="cl-010c9e5f"><span class="cl-010c9e5d">62</span></p></td>
<td class="cl-010dfdba"><p class="cl-010c9e5f"><span class="cl-010c9e5d">53</span></p></td>
<td class="cl-010dfdbc"><p class="cl-010c9e5f"><span class="cl-010c9e5d">8</span></p></td>
<td class="cl-010dfdbc"><p class="cl-010c9e5f"><span class="cl-010c9e5d">39</span></p></td>
<td class="cl-010dfdbc"><p class="cl-010c9e5f"><span class="cl-010c9e5d">24</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a30"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2f"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Ling. Isol.</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">51</span></p></td>
<td class="cl-010d8a31"><p class="cl-010c9e5f"><span class="cl-010c9e5d">51</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">51</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">57</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">51</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a30"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2f"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Age Under 5</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">53</span></p></td>
<td class="cl-010d8a31"><p class="cl-010c9e5f"><span class="cl-010c9e5d">38</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">7</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">22</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">73</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010dfdbe"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dfdbf"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Age Over 64</span></p></td>
<td class="cl-010dfdc4"><p class="cl-010c9e5f"><span class="cl-010c9e5d">40</span></p></td>
<td class="cl-010dfdc2"><p class="cl-010c9e5f"><span class="cl-010c9e5d">71</span></p></td>
<td class="cl-010dfdc3"><p class="cl-010c9e5f"><span class="cl-010c9e5d">98</span></p></td>
<td class="cl-010dfdc1"><p class="cl-010c9e5f"><span class="cl-010c9e5d">90</span></p></td>
<td class="cl-010dfdc0"><p class="cl-010c9e5f"><span class="cl-010c9e5d">86</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010e24cd"><p class="cl-010c9e5e"><span class="cl-010c9e5c">Environmental</span></p></td>
<td class="cl-010e24cc"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010e24cb"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010e24ca"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010e24cb"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010e24cb"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010e24cb"><p class="cl-010c9e5f"><span class="cl-010c9e5d"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010e24d0"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010e24d1"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Air, Cancer</span></p></td>
<td class="cl-010e24d2"><p class="cl-010c9e5f"><span class="cl-010c9e5d">83</span></p></td>
<td class="cl-010e24cf"><p class="cl-010c9e5f"><span class="cl-010c9e5d">93</span></p></td>
<td class="cl-010e24ce"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010e24ce"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010e24ce"><p class="cl-010c9e5f"><span class="cl-010c9e5d">6</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a35"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a34"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Diesel PM</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">43</span></p></td>
<td class="cl-010d8a33"><p class="cl-010c9e5f"><span class="cl-010c9e5d">18</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">6</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a35"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a34"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Lead</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">21</span></p></td>
<td class="cl-010d8a33"><p class="cl-010c9e5f"><span class="cl-010c9e5d">45</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">31</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">63</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">78</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a36"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dafce"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Ozone</span></p></td>
<td class="cl-010d8a37"><p class="cl-010c9e5f"><span class="cl-010c9e5d">42</span></p></td>
<td class="cl-010dafcd"><p class="cl-010c9e5f"><span class="cl-010c9e5d">8</span></p></td>
<td class="cl-010dafcc"><p class="cl-010c9e5f"><span class="cl-010c9e5d">87</span></p></td>
<td class="cl-010d8a38"><p class="cl-010c9e5f"><span class="cl-010c9e5d">91</span></p></td>
<td class="cl-010d8a37"><p class="cl-010c9e5f"><span class="cl-010c9e5d">50</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a35"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a34"><p class="cl-010c9e5e"><span class="cl-010c9e5d">PM</span></p></td>
<td class="cl-010dafcf"><p class="cl-010c9e5f"><span class="cl-010c9e5d">86</span></p></td>
<td class="cl-010d8a33"><p class="cl-010c9e5f"><span class="cl-010c9e5d">63</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">12</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a35"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a34"><p class="cl-010c9e5e"><span class="cl-010c9e5d">NPL</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">31</span></p></td>
<td class="cl-010d8a33"><p class="cl-010c9e5f"><span class="cl-010c9e5d">8</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">31</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">62</span></p></td>
<td class="cl-010d8a32"><p class="cl-010c9e5f"><span class="cl-010c9e5d">4</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a30"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2f"><p class="cl-010c9e5e"><span class="cl-010c9e5d">RMP Facility</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">54</span></p></td>
<td class="cl-010d8a31"><p class="cl-010c9e5f"><span class="cl-010c9e5d">1</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">3</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010dafd0"><p class="cl-010c9e5f"><span class="cl-010c9e5d">89</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010dafd1"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dafd4"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Traffic</span></p></td>
<td class="cl-010dafd2"><p class="cl-010c9e5f"><span class="cl-010c9e5d">45</span></p></td>
<td class="cl-010dafd3"><p class="cl-010c9e5f"><span class="cl-010c9e5d">7</span></p></td>
<td class="cl-010dafd2"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010dafd2"><p class="cl-010c9e5f"><span class="cl-010c9e5d">6</span></p></td>
<td class="cl-010dafd2"><p class="cl-010c9e5f"><span class="cl-010c9e5d">1</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010dafd5"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dd6ab"><p class="cl-010c9e5e"><span class="cl-010c9e5d">TSD Facility</span></p></td>
<td class="cl-010dd6aa"><p class="cl-010c9e5f"><span class="cl-010c9e5d">48</span></p></td>
<td class="cl-010dafd6"><p class="cl-010c9e5f"><span class="cl-010c9e5d">10</span></p></td>
<td class="cl-010dd6aa"><p class="cl-010c9e5f"><span class="cl-010c9e5d">2</span></p></td>
<td class="cl-010dd6aa"><p class="cl-010c9e5f"><span class="cl-010c9e5d">1</span></p></td>
<td class="cl-010dd6aa"><p class="cl-010c9e5f"><span class="cl-010c9e5d">5</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010d8a30"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010d8a2f"><p class="cl-010c9e5e"><span class="cl-010c9e5d">WW Discharge</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">29</span></p></td>
<td class="cl-010d8a31"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010dafd0"><p class="cl-010c9e5f"><span class="cl-010c9e5d">80</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">16</span></p></td>
<td class="cl-010d8a2e"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-010dd6ae"><p class="cl-010c9e5e"><span class="cl-010c9e5d"></span></p></td>
<td class="cl-010dd6af"><p class="cl-010c9e5e"><span class="cl-010c9e5d">Resp. Hazard</span></p></td>
<td class="cl-010dd6ad"><p class="cl-010c9e5f"><span class="cl-010c9e5d">83</span></p></td>
<td class="cl-010dd6b0"><p class="cl-010c9e5f"><span class="cl-010c9e5d">97</span></p></td>
<td class="cl-010dd6ac"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010dd6ac"><p class="cl-010c9e5f"><span class="cl-010c9e5d">0</span></p></td>
<td class="cl-010dd6ac"><p class="cl-010c9e5f"><span class="cl-010c9e5d">5</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="d801f64c-92fc-492f-913e-44d39e77d207"></div>
<script>
var dest = document.getElementById("d801f64c-92fc-492f-913e-44d39e77d207");
var template = document.getElementById("b2db2a2a-2d3c-4a0c-a960-2f60a202a91a");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div id="count-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#count-tables" class="anchor"></a>Count tables</h3>
<p>Finally, the EJCountTables() function allows users to explore the extent to which environmental indices above the threshold percentile overlap with demographic indices above the threshold percentile. Locations with elevated counts of environmental AND demographic indices are likely of high EJ concern. The function produces a two-way count table that summarizes the number of locations with average environmental and/or demographic indicators above the 80th percentile national threshold.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/EJCountTable.html">EJCountTable</a></span><span class="op">(</span>input_data <span class="op">=</span> <span class="va">my.EJ.data.named</span>, save_option <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<template id="d5451f4c-4956-434e-9f51-0711c782fa6a"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-01d2fe9e{border-collapse:collapse;}.cl-01c4cdce{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-01c4cdcf{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-01c4f4e8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-01c4f4e9{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-01c56a04{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a05{width:174pt;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a06{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a07{width:78.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a08{width:78.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a09{width:174pt;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a0a{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a0b{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a0c{width:174pt;background-color:transparent;vertical-align: top;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a0d{width:174pt;background-color:transparent;vertical-align: top;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c56a0e{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c5910a{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c5910b{width:78.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c5910c{width:78.6pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c5910d{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c5910e{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c5910f{width:174pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c59110{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c59111{width:174pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c59112{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-01c59113{width:78.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-01d2fe9e">
<thead>
<tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-01c5910f"><p class="cl-01c4f4e8"><span class="cl-01c4cdce"></span></p></td>
<td colspan="2" class="cl-01c5910c"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">Demo. indicators above 80th %ile</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-01c59111"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">Env. indicators above 80th %ile</span></p></td>
<td class="cl-01c59110"><p class="cl-01c4f4e8"><span class="cl-01c4cdce"></span></p></td>
<td class="cl-01c59113"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">0</span></p></td>
<td class="cl-01c59112"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">1</span></p></td>
</tr>
</thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td rowspan="2" class="cl-01c56a05"><p class="cl-01c4f4e9"><span class="cl-01c4cdce">0</span></p></td>
<td class="cl-01c56a06"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">Frequency</span></p></td>
<td class="cl-01c56a07"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">7</span></p></td>
<td class="cl-01c56a04"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">3</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-01c56a0a"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">Percent</span></p></td>
<td class="cl-01c56a08"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">36.84%</span></p></td>
<td class="cl-01c56a0b"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">15.79%</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td rowspan="2" class="cl-01c56a05"><p class="cl-01c4f4e9"><span class="cl-01c4cdce">1</span></p></td>
<td class="cl-01c56a06"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">Frequency</span></p></td>
<td class="cl-01c56a07"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">2</span></p></td>
<td class="cl-01c56a04"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">4</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-01c56a0a"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">Percent</span></p></td>
<td class="cl-01c56a08"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">10.53%</span></p></td>
<td class="cl-01c56a0b"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">21.05%</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td rowspan="2" class="cl-01c56a05"><p class="cl-01c4f4e9"><span class="cl-01c4cdce">2</span></p></td>
<td class="cl-01c56a06"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">Frequency</span></p></td>
<td class="cl-01c56a07"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">2</span></p></td>
<td class="cl-01c56a04"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-01c56a0a"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">Percent</span></p></td>
<td class="cl-01c56a08"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">10.53%</span></p></td>
<td class="cl-01c56a0b"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">0%</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td rowspan="2" class="cl-01c56a0c"><p class="cl-01c4f4e9"><span class="cl-01c4cdce">3</span></p></td>
<td class="cl-01c56a06"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">Frequency</span></p></td>
<td class="cl-01c56a07"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">1</span></p></td>
<td class="cl-01c56a04"><p class="cl-01c4f4e8"><span class="cl-01c4cdce">0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-01c5910a"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">Percent</span></p></td>
<td class="cl-01c5910b"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">5.26%</span></p></td>
<td class="cl-01c56a0e"><p class="cl-01c4f4e8"><span class="cl-01c4cdcf">0%</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="412e957b-9892-4ccc-b62a-6b3909515ec0"></div>
<script>
var dest = document.getElementById("412e957b-9892-4ccc-b62a-6b3909515ec0");
var template = document.getElementById("d5451f4c-4956-434e-9f51-0711c782fa6a");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div id="calling-secondary-functions-from-ejfunction" class="section level3">
<h3 class="hasAnchor">
<a href="#calling-secondary-functions-from-ejfunction" class="anchor"></a>Calling secondary functions from EJfunction()</h3>
<p>It merits mention that a user can choose to succinctly run all canned visualization sub-functions from an direct call to EJfunction. One example of such a call could be:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data.onestop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EJfunction.html">EJfunction</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"landbased"</span>,
           facility_data <span class="op">=</span> <span class="va">rnd.pts</span>, 
           input_name <span class="op">=</span> <span class="st">"name"</span>,
           gis_option <span class="op">=</span> <span class="st">"intersection"</span>, 
           buff_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span>,
           raster_data <span class="op">=</span> <span class="va">raster.path</span>,
           produce_ancillary_tables <span class="op">=</span> <span class="cn">T</span>,
           heat_table_type <span class="op">=</span> <span class="st">'all'</span>,
           heat_table_geog_lvl <span class="op">=</span> <span class="st">'US'</span>,
           rank_type <span class="op">=</span> <span class="st">'location'</span>,
           rank_geography_type <span class="op">=</span> <span class="st">'US'</span>,
           rank_count <span class="op">=</span> <span class="fl">5</span>
           <span class="op">)</span></code></pre></div>
</div>
</div>
<div id="water-based-ej-screening-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#water-based-ej-screening-analysis" class="anchor"></a>Water-based EJ screening analysis</h1>
<p>All of the above batch analyses can also be completed using water-based buffering. This package leverages the surface water network established in the <a href="https://www.usgs.gov/core-science-systems/ngp/national-hydrography">National Hydrology Dataset</a>.</p>
<p>Users can supply an <em>sf</em> dataframe of locations or a list of catchment IDs, and the tool will identify catchments that lie within a specified distance up- or downstream of these starting locations. The tool then creates a shapefile of each starting location’s associated flowline through these catchments. Next, EJfunction() draws a user-defined buffer around each flowline and extracts EJSCREEN’s environmental and demographic data for all CBGs that intersect the buffer. From here, data processing and visualizations follow identically to the land-based approach described above. To illustrate this water-based buffering and data extraction, the following figure maps the buffer area and associated CBGs for a flowline up to 50 miles downstream from a single starting location (outflow) point:</p>
<center>
<img src="flowlineimage.png" title="fig:" alt="Map of flowline and proximate CBGs up to 50 miles downstream from input location.">
</center>
<div id="using-an-sf-dataframe-as-input" class="section level3">
<h3 class="hasAnchor">
<a href="#using-an-sf-dataframe-as-input" class="anchor"></a>Using an sf dataframe as input</h3>
<p>To run a water-based screening analysis, several input arguments to EJfunction must be modified. We’ll run a simple water-based screen based on our running example data:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data.water</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EJfunction.html">EJfunction</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"waterbased"</span>,
           facility_data <span class="op">=</span> <span class="va">rnd.pts</span>, 
           input_type <span class="op">=</span> <span class="st">"sf"</span>,
           input_name <span class="op">=</span> <span class="st">"name"</span>,
           gis_option <span class="op">=</span> <span class="st">"intersect"</span>, 
           buff_dist <span class="op">=</span> <span class="fl">1</span>,
           ds_mode <span class="op">=</span> <span class="st">"DD"</span>,
           ds_dist <span class="op">=</span> <span class="fl">25</span>,
           attains <span class="op">=</span> <span class="cn">T</span>,
           raster_data <span class="op">=</span> <span class="va">raster.path</span><span class="op">)</span>
<span class="co">#&gt; Joining, by = c("ID", "STATE_NAME", "ST_ABBREV")</span></code></pre></div>
<p>A required new argument is <em>input_type</em>: the user must specify whether the input data is ‘sf’ or ‘catchment’. The second new argument is <em>ds_mode</em>, which informs the NHD data set whether to search upstream or downstream from a starting point. Here, it was set to its default, ‘DD’, meaning “downstream, direct”. <em>ds_dist</em> is the user-specified upstream/downstream distance (in miles). Finally, the <em>attains</em> argument specifies whether or not the user would like the function to return catchment-level impaired waters data (in summary and raw formats) from the <a href="https://www.epa.gov/waterdata/get-data-access-public-attains-data#WebServices">EPA’s ATTAINs API</a>.</p>
<p>The list of returned data is as follows:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">my.EJ.data.water</span><span class="op">)</span>
<span class="co">#&gt; [1] "EJ.demographics.data" "EJ.corrplots.data"    "EJ.facil.data"       </span>
<span class="co">#&gt; [4] "EJ.list.data"         "EJ.index.data"        "EJ.buffer.summary"   </span>
<span class="co">#&gt; [7] "EJ.attainsdata.raw"</span></code></pre></div>
<p>The data objects <em>EJ.list.data</em> and <em>EJ.facil.data</em> are essentially identical in nature those returned from the land-based screening. However, two new data objects of potential interest are returned when the user sets the argument <em>attains = T</em>. The first is <em>EJ.buffer.summary</em>; this is a summary of impaired water status for all waters that fall within the buffer drawn around a given location.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data.water</span><span class="op">$</span><span class="va">EJ.buffer.summary</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span>
  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 19 x 9</span>
<span class="co">#&gt;    shape_ID start_catchment total_area attainment_area unassess_area</span>
<span class="co">#&gt;       &lt;dbl&gt;           &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1        1          949569      46.7           46.7            0   </span>
<span class="co">#&gt;  2        2        18849716      61.4            0              0   </span>
<span class="co">#&gt;  3        3         5921170      21.9            0              0   </span>
<span class="co">#&gt;  4        4        11703746     113.           113.             0   </span>
<span class="co">#&gt;  5        5        20908503      35.6            0              0   </span>
<span class="co">#&gt;  6        6        17014173     124.             0              0   </span>
<span class="co">#&gt;  7        7        18943465      35.6            0              0   </span>
<span class="co">#&gt;  8        8        10805197      78.4            0              0   </span>
<span class="co">#&gt;  9        9         7789172      42.4           42.4            0   </span>
<span class="co">#&gt; 10       10        13104169      74.5            0.287          0   </span>
<span class="co">#&gt; 11       11        17244416     118.             0              0   </span>
<span class="co">#&gt; 12       12         3921873      59.5            9.03           6.82</span>
<span class="co">#&gt; 13       14         5254581      17.9           17.9            0   </span>
<span class="co">#&gt; 14       15         9252470      35.5           32.5            0   </span>
<span class="co">#&gt; 15       16        18890546      32.0            0              0   </span>
<span class="co">#&gt; 16       17        10528831      88.0           88.0            0   </span>
<span class="co">#&gt; 17       18        21207757      38.2            0              0   </span>
<span class="co">#&gt; 18       19         2399885      30.6           30.6            0   </span>
<span class="co">#&gt; 19       20         9867350       6.82           4.91           0   </span>
<span class="co">#&gt; # ... with 4 more variables: tmdl_complete_area &lt;dbl&gt;, tmdl_4b4c_area &lt;dbl&gt;,</span>
<span class="co">#&gt; #   listed_303d_area &lt;dbl&gt;, geometry &lt;POLYGON [m]&gt;</span></code></pre></div>
<p>The second new data object is <em>EJ.attainsdata.raw</em>. This object holds a subset of raw data from the the ATTAINs API’s “firehose”. This raw data is queried based on the catchment IDs that fall within buffered areas; a motivated user could do an ad-hoc, deeper dive into the ATTAINs impairment data based on several ID variables included in this dataframe.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my.EJ.data.water</span><span class="op">$</span><span class="va">EJ.attainsdata.raw</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span>
  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 399 x 35</span>
<span class="co">#&gt;      .id OBJECTID submissionid     nhdplusid state region organizationid orgtype</span>
<span class="co">#&gt;    &lt;int&gt;    &lt;int&gt; &lt;chr&gt;                &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;chr&gt;  </span>
<span class="co">#&gt;  1     1    54873 {be3cc2b1-a7cf-~    952637 CO    08     21COL001       State  </span>
<span class="co">#&gt;  2     1    54874 {be3cc2b1-a7cf-~    952641 CO    08     21COL001       State  </span>
<span class="co">#&gt;  3     1    54877 {be3cc2b1-a7cf-~    949569 CO    08     21COL001       State  </span>
<span class="co">#&gt;  4     1    54879 {be3cc2b1-a7cf-~    949573 CO    08     21COL001       State  </span>
<span class="co">#&gt;  5     1    55007 {be3cc2b1-a7cf-~    951863 CO    08     21COL001       State  </span>
<span class="co">#&gt;  6     1    55008 {be3cc2b1-a7cf-~    951869 CO    08     21COL001       State  </span>
<span class="co">#&gt;  7     1    55050 {be3cc2b1-a7cf-~    951697 CO    08     21COL001       State  </span>
<span class="co">#&gt;  8     1    55051 {be3cc2b1-a7cf-~    951725 CO    08     21COL001       State  </span>
<span class="co">#&gt;  9     1    55109 {be3cc2b1-a7cf-~    951785 CO    08     21COL001       State  </span>
<span class="co">#&gt; 10     1    55110 {be3cc2b1-a7cf-~    951821 CO    08     21COL001       State  </span>
<span class="co">#&gt; # ... with 389 more rows, and 27 more variables: tas303d &lt;chr&gt;,</span>
<span class="co">#&gt; #   organizationname &lt;chr&gt;, reportingcycle &lt;int&gt;,</span>
<span class="co">#&gt; #   assessmentunitidentifier &lt;chr&gt;, assessmentunitname &lt;chr&gt;,</span>
<span class="co">#&gt; #   waterbodyreportlink &lt;chr&gt;, assmnt_joinkey &lt;chr&gt;, permid_joinkey &lt;lgl&gt;,</span>
<span class="co">#&gt; #   ircategory &lt;chr&gt;, overallstatus &lt;chr&gt;, isassessed &lt;chr&gt;, isimpaired &lt;chr&gt;,</span>
<span class="co">#&gt; #   isthreatened &lt;chr&gt;, on303dlist &lt;chr&gt;, hastmdl &lt;chr&gt;, has4bplan &lt;chr&gt;,</span>
<span class="co">#&gt; #   hasalternativeplan &lt;chr&gt;, hasprotectionplan &lt;chr&gt;,</span>
<span class="co">#&gt; #   visionpriority303d &lt;chr&gt;, areasqkm &lt;dbl&gt;, huc12 &lt;chr&gt;,</span>
<span class="co">#&gt; #   catchmentareasqkm &lt;dbl&gt;, catchmentstatecode &lt;chr&gt;, GLOBALID &lt;chr&gt;,</span>
<span class="co">#&gt; #   Shape_Length &lt;dbl&gt;, Shape_Area &lt;dbl&gt;, geoms &lt;MULTIPOLYGON [°]&gt;</span></code></pre></div>
<p>Both data objects returned from the ATTAINs API are in beta version; we envision future improvements as we explore the richness of the EPA’s impaired waters data.</p>
</div>
<div id="using-catchment-ids-comids-as-input" class="section level3">
<h3 class="hasAnchor">
<a href="#using-catchment-ids-comids-as-input" class="anchor"></a>Using catchment IDs (COMIDs) as input</h3>
<p>One final capability of EJfunction() is its acceptance of COMIDs as input datatype for water-based screenings. The ids should be input to the function as a simple numeric vector, with the <em>input_type</em> argument set equal to “catchment”.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a list of starting catchments from rnd.pts data</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://usgs-r.github.io/nhdplusTools/">nhdplusTools</a></span><span class="op">)</span>
<span class="va">catch.id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"list"</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">rnd.pts</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">rnd.pts</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">{</span>
  <span class="va">catch.id</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/conditions.html">tryCatch</a></span><span class="op">(</span>
    <span class="fu">nhdplusTools</span><span class="fu">::</span><span class="fu"><a href="https://usgs-r.github.io/nhdplusTools/reference/get_nhdplus.html">get_nhdplus</a></span><span class="op">(</span>AOI <span class="op">=</span> <span class="va">rnd.pts</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span>,
                                realization <span class="op">=</span> <span class="st">'catchment'</span><span class="op">)</span><span class="op">$</span><span class="va">featureid</span>
    <span class="op">)</span>
<span class="op">}</span>
<span class="va">catch.id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">catch.id</span><span class="op">)</span>

<span class="co"># Use EJfunction on these starting catchments.</span>
<span class="va">my.EJ.data.water</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EJfunction.html">EJfunction</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"waterbased"</span>,
           facility_data <span class="op">=</span> <span class="va">catch.id</span>, 
           input_type <span class="op">=</span> <span class="st">"catchment"</span>,
           gis_option <span class="op">=</span> <span class="st">"intersect"</span>, 
           buff_dist <span class="op">=</span> <span class="fl">1</span>,
           ds_mode <span class="op">=</span> <span class="st">"DD"</span>,
           ds_dist <span class="op">=</span> <span class="fl">25</span>,
           attains <span class="op">=</span> <span class="cn">F</span>,
           raster_data <span class="op">=</span> <span class="va">raster.path</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Our population weighting approach currently differs slightly from the EJSCREEN mapper’s. We rely on a <a href="https://sedac.ciesin.columbia.edu/data/collection/usgrid">NASA-produced</a> 1km<span class="math inline">\(^2\)</span> population grid, while they weight populations using Census block geographies. Nevertheless, our benchmarking exercises suggested very similar results in practice.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p><em>EJ.list.data</em> and <em>EJ.facil.data</em> are both named lists of dataframes; this design choice was made to accommodate simultaneous runs of multiple distance buffers and/or GIS methods. Users doing ad-hoc analyses should account for this accordingly.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>For other GIS options, a location’s returned values are the median percentile across all of its CBGs.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>For ease of visualization, locations are currently mapped as points, even if input is a polygon shapefile or catchment (COMID) list.<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ahmed Rachid El-Khattabi, Morgan Teachey, Adam Theising.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
